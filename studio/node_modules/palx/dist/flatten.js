"use strict";

module.exports = function (obj) {
  return Object.keys(obj).map(function (key) {
    var value = obj[key];
    if (Array.isArray(value)) {
      return value.map(function (v, i) {
        return {
          key: key + i,
          value: v
        };
      });
    }

    return {
      key: key,
      value: value
    };
  }).reduce(function (a, b) {
    if (Array.isArray(b)) {
      b.forEach(function (_ref) {
        var key = _ref.key,
            value = _ref.value;

        a[key] = value;
      });
    } else {
      a[b.key] = b.value;
    }
    return a;
  }, {});
};