"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const through = require("through2");
const documentIds_1 = require("./documentIds");
function filter(doc, enc, callback) {
    return isDraft(doc) ? callback() : callback(null, doc);
}
function isDraft(doc) {
    return doc && doc._id && documentIds_1.isDraftId(doc._id);
}
exports.isDraft = isDraft;
exports.removeDrafts = () => through.obj(filter);
exports.extractDrafts = (target) => through.obj((doc, enc, callback) => {
    if (!isDraft(doc)) {
        return callback(null, doc);
    }
    target.push(doc);
    callback();
});
//# sourceMappingURL=handleDrafts.js.map